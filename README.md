# Biblical Calendar App

<div align="center">

![Biblical Calendar](https://img.shields.io/badge/Biblical-Calendar-blue)

**Calend√°rio b√≠blico-lunissolar din√¢mico com c√°lculos astron√¥micos precisos**

[![Python](https://img.shields.io/badge/Python-3.11+-blue)](https://python.org)
[![License](https://img.shields.io/badge/License-MIT-green)](LICENSE)
[![Version](https://img.shields.io/badge/Version-1.2.0-orange)](https://github.com/vanderloto/biblical_calendar_app)
[![Poetry](https://img.shields.io/badge/Poetry-1.5+-green)](https://python-poetry.org)
[![Tests](https://img.shields.io/badge/Tests-Passing-brightgreen)](tests/)

[üöÄ Instala√ß√£o](#-instala√ß√£o) ‚Ä¢ [üìñ Uso](#-uso) ‚Ä¢ [üîß Funcionalidades](#-funcionalidades) ‚Ä¢ [üìä Screenshots](#-screenshots)

</div>

---

## üìã √çndice

- [Sobre o Projeto](#-sobre-o-projeto)
- [Funcionalidades](#-funcionalidades)
- [Tecnologias](#-tecnologias)
- [Pr√©-requisitos](#-pr√©-requisitos)
- [Instala√ß√£o](#-instala√ß√£o)
- [Uso](#-uso)
- [Configura√ß√£o](#-configura√ß√£o)
- [Contribui√ß√£o](#-contribui√ß√£o)
- [Licen√ßa](#-licen√ßa)
- [Contato](#-contato)

---

## üéØ Sobre o Projeto

### Vis√£o Geral

O Biblical Calendar App √© um calend√°rio b√≠blico-lunissolar din√¢mico que calcula com precis√£o astron√¥mica o in√≠cio de cada m√™s baseado nas luas novas observ√°veis em Jerusal√©m. O sistema ajusta automaticamente a dura√ß√£o dos meses conforme as fases lunares e inclui informa√ß√µes completas sobre festas b√≠blicas, feriados e esta√ß√µes astron√¥micas.

### Objetivos

- **Precis√£o Astron√¥mica**: C√°lculos baseados em efem√©rides astron√¥micas (DE421)
- **Flexibilidade**: Suporte a heur√≠stica de visibilidade da primeira crescente
- **Completude**: Inclui festivais b√≠blicos e eventos relacionados a Yeshua
- **Usabilidade**: Interface gr√°fica intuitiva com m√∫ltiplas visualiza√ß√µes
- **Exporta√ß√£o**: Suporte a formatos padr√£o (CSV, ICS)

### Benef√≠cios

- ‚úÖ **C√°lculos Precisos**: Baseado em algoritmos astron√¥micos profissionais
- ‚úÖ **Flex√≠vel**: Op√ß√£o entre lua nova astron√¥mica ou primeira crescente vis√≠vel
- ‚úÖ **Completo**: Inclui todas as festas b√≠blicas e eventos de Yeshua
- ‚úÖ **Visual**: Calend√°rio visual com navega√ß√£o mensal
- ‚úÖ **Export√°vel**: Integra√ß√£o com outros calend√°rios via ICS

---

## ‚ö° Funcionalidades

### Principais

- üåô **C√°lculo Lunar Din√¢mico**: Meses baseados em luas novas astron√¥micas
- üî≠ **Heur√≠stica de Visibilidade**: Primeira crescente vis√≠vel em Jerusal√©m
- üìÖ **Detec√ß√£o Autom√°tica**: Anos embol√≠smicos (13 meses) com Adar I/II
- üéâ **Festivais B√≠blicos Completos**: 10 festivais incluindo Pessach, Chag HaMatzot, Omer Reshit, Shavuot, Rosh Hashan√°, Yom Kippur, Sukkot, Chanuc√°, Purim
- ‚úùÔ∏è **Eventos de Yeshua**: Nascimento (2 hip√≥teses) e crucifica√ß√£o
- üåç **Esta√ß√µes Astron√¥micas**: Equin√≥cios e solst√≠cios para Jerusal√©m/S√£o Paulo
- üåï **Fases Lunares Completas**: Nova, Crescente, Cheia, Minguante
- ‚òÄÔ∏è **Nascer/P√¥r do Sol**: C√°lculos precisos para m√∫ltiplas localidades
- üöÄ **Sele√ß√£o Autom√°tica de Efem√©rides**: DE421 (1900-2050) ou DE440 (>2050)
- üî¨ **Modo Pesquisa Acad√™mica**: For√ßa DE440 para m√°xima precis√£o cient√≠fica

### Interface e Navega√ß√£o

- **Calend√°rio Visual Interativo**: Navega√ß√£o mensal com clique em dias (1400x900px)
- **Navega√ß√£o Cont√≠nua**: Bot√µes Anterior/Pr√≥ximo com transi√ß√£o autom√°tica de anos
- **Bot√£o "Hoje"**: Navega√ß√£o r√°pida para o m√™s atual
- **Painel de Eventos Expandido**: √Årea ampliada (450px) com descri√ß√µes completas
- **Nomes Bil√≠ngues**: Hebraico e portugu√™s para festivais
- **Descri√ß√µes Educativas**: Contexto hist√≥rico e religioso para todos os eventos
- **Esta√ß√£o Atual**: Mostra esta√ß√£o astron√¥mica para ambas localidades
- **Interface Responsiva**: Layout otimizado para melhor experi√™ncia visual

### Funcionalidades Avan√ßadas

- **Exporta√ß√£o CSV**: Dados tabulares para an√°lise com metadados de precis√£o
- **Exporta√ß√£o ICS**: Integra√ß√£o com Google Calendar, Outlook, etc.
- **Interface Multil√≠ngue**: Suporte completo a portugu√™s
- **Configura√ß√£o Flex√≠vel**: Escolha entre m√©todos de c√°lculo
- **Legenda Visual**: S√≠mbolos para fases lunares, festivais e esta√ß√µes
- **Gest√£o Inteligente**: Sele√ß√£o autom√°tica da melhor efem√©ride por ano
- **Modo Acad√™mico**: Precis√£o m√°xima para pesquisas cient√≠ficas
- **Cronologias Comparativas**: Ussher (Cria√ß√£o), Hebraico (AM) e Gregoriano (DC)

---

## üõ†Ô∏è Tecnologias

### Stack Principal

| Categoria | Tecnologia | Vers√£o | Descri√ß√£o |
|-----------|------------|--------|-----------|
| **Runtime** | Python | 3.11+ | Linguagem principal |
| **Astronomia** | Skyfield | 1.45+ | C√°lculos astron√¥micos |
| **Efem√©rides** | DE421/DE440 | NASA/JPL | Dados planet√°rios precisos |
| **Interface** | Tkinter | Built-in | GUI nativa |
| **Dados** | Pandas | 2.3+ | Manipula√ß√£o de dados |
| **Calend√°rio** | iCalendar | 6.3+ | Exporta√ß√£o ICS |

### Depend√™ncias Principais

```toml
[tool.poetry.dependencies]
python = "^3.11"
skyfield = "^1.45"
pandas = "^2.3.2"
icalendar = "^6.3.1"
astral = "^3.2"
pytz = "^2025.1"
```

### Arquitetura

```mermaid
graph TB
    A[GUI Tkinter] --> B[Calendar Engine]
    B --> C[Skyfield Astronomy]
    B --> D[Astral Sun/Moon]
    B --> E[Pandas DataFrames]
    E --> F[CSV Export]
    E --> G[ICS Export]
    C --> H[DE421 Ephemeris]
    
    subgraph "Estrutura do Projeto"
        I[src/biblical_calendar/]
        J[tests/]
        K[pyproject.toml]
    end
```

---

## üìã Pr√©-requisitos

### Requisitos do Sistema

- **Sistema Operacional**: Windows 10+, macOS 10.15+, Linux Ubuntu 20.04+
- **Mem√≥ria RAM**: 512 MB m√≠nimo, 1 GB recomendado
- **Espa√ßo em Disco**: 200 MB dispon√≠vel
- **Resolu√ß√£o de Tela**: 1440x960 m√≠nimo (recomendado para interface expandida)
- **Rede**: Conex√£o com internet para download de efem√©rides

### Software Necess√°rio

- **Python**: 3.11 ou superior - [Download](https://python.org/downloads/)
- **Poetry**: Para gerenciamento de depend√™ncias - [Instala√ß√£o](https://python-poetry.org/docs/#installation)

### Verifica√ß√£o de Pr√©-requisitos

```bash
# Verificar vers√£o do Python
python --version

# Verificar Poetry
poetry --version
```

---

## üöÄ Instala√ß√£o

### Instala√ß√£o R√°pida

```bash
# Clone o reposit√≥rio
git clone https://github.com/vanderloto/biblical_calendar_app.git
cd biblical_calendar_app

# Instale as depend√™ncias
poetry install

# Execute a aplica√ß√£o
poetry run biblical-calendar
```

### Instala√ß√£o Detalhada

<details>
<summary>Clique para ver instru√ß√µes detalhadas</summary>

#### 1. Clone o Reposit√≥rio

```bash
git clone https://github.com/vanderloto/biblical_calendar_app.git
cd biblical_calendar_app
```

#### 2. Configure o Ambiente

```bash
# Instale Poetry se n√£o tiver
curl -sSL https://install.python-poetry.org | python3 -

# Configure Poetry para criar venv no projeto
poetry config virtualenvs.in-project true
```

#### 3. Instale as Depend√™ncias

```bash
# Instale depend√™ncias do projeto
poetry install

# Ative o ambiente virtual
poetry shell
```

#### 4. Download de Efem√©rides

O arquivo `de421.bsp` ser√° baixado automaticamente na primeira execu√ß√£o.

</details>

### Verifica√ß√£o da Instala√ß√£o

```bash
# Teste se a aplica√ß√£o inicia
poetry run biblical-calendar

# Ou teste a importa√ß√£o
poetry run python -c "from biblical_calendar import BiblicalCalendarApp; print('OK')"
```

---

## üíª Uso

### In√≠cio R√°pido

1. **Execute a aplica√ß√£o**:
   ```bash
   poetry run biblical-calendar
   ```

2. **Configure o ano**: Insira o ano desejado no campo "Ano refer√™ncia"

3. **Escolha as op√ß√µes**:
   - Marque "Heur√≠stica visibilidade" para primeira crescente vis√≠vel
   - Marque "üî¨ Modo Pesquisa Acad√™mica" para m√°xima precis√£o (DE440)

4. **Gere o calend√°rio**: Clique em "Gerar"

5. **Explore as abas**: Navegue entre Calend√°rio Visual, Meses, Festas e Esta√ß√µes

6. **Verifique a efem√©ride**: Status mostrado no canto inferior direito

### Interface do Usu√°rio

#### Aba Meses
- Lista tabular com todos os meses do ano
- Colunas: √çndice, Nome, Data In√≠cio, Data Fim, Dias
- Identifica√ß√£o autom√°tica de anos embol√≠smicos

#### Aba Festas & Yeshua
- Lista completa de festivais b√≠blicos
- Eventos relacionados a Yeshua (nascimento e crucifica√ß√£o)
- Datas calculadas automaticamente

#### Aba Esta√ß√µes
- Equin√≥cios e solst√≠cios para Jerusal√©m e S√£o Paulo
- Hor√°rios de nascer/p√¥r do sol para Nissan 1
- Todos os hor√°rios em UTC

#### Aba Calend√°rio Visual (Principal)
- Visualiza√ß√£o mensal estilo calend√°rio com datas gregorianas
- Navega√ß√£o cont√≠nua com bot√µes Anterior/Pr√≥ximo/Hoje
- Transi√ß√£o autom√°tica entre anos (1-2100)
- Anota√ß√µes visuais: festivais (‚òÖ), fases lunares (üåëüåìüåïüåó), esta√ß√µes (üåç)
- Painel "Eventos do Dia" expandido (450px x 20 linhas) com descri√ß√µes completas
- Interface ampliada (1400x900px) para melhor visualiza√ß√£o
- Descri√ß√µes detalhadas dos eventos de Yeshua com contexto teol√≥gico
- Nomes hebraicos e tradu√ß√µes portuguesas
- Indica√ß√£o da esta√ß√£o astron√¥mica atual para ambas localidades
- Destaque visual para o dia atual (fundo azul)

### Exporta√ß√£o

#### CSV (Meses)
```bash
# Clique em "Exportar CSV (meses)"
# Arquivo cont√©m: index,name,start,end,days
```

#### ICS (Festivais)
```bash
# Clique em "Exportar ICS (festas)"
# Arquivo compat√≠vel com Google Calendar, Outlook, etc.
```

---

## ‚öôÔ∏è Configura√ß√£o

### M√©todos de C√°lculo

#### Lua Nova Astron√¥mica (Padr√£o)
- Baseado no momento exato da conjun√ß√£o Sol-Lua
- Precis√£o astron√¥mica m√°xima
- Recomendado para estudos acad√™micos

#### Primeira Crescente Vis√≠vel (Heur√≠stica)
- Simula observa√ß√£o visual em Jerusal√©m
- Considera elonga√ß√£o ‚â• 10¬∞ e altitude ‚â• 3¬∞
- Mais pr√≥ximo da pr√°tica hist√≥rica

#### Sele√ß√£o Autom√°tica de Efem√©rides
- **DE421**: Anos 1900-2050 (17 MB, precis√£o padr√£o)
- **DE440**: Anos >2050 ou modo acad√™mico (128 MB, m√°xima precis√£o)
- **Fallback**: DE430 se DE440 indispon√≠vel

#### Modo Pesquisa Acad√™mica
- For√ßa uso de DE440 independente do ano
- M√°xima precis√£o astron√¥mica dispon√≠vel
- Metadados de precis√£o nos exports
- Recomendado para publica√ß√µes cient√≠ficas

### Localidades e Efem√©rides

#### Localidades Suportadas
```python
# Jerusal√©m (padr√£o)
JERUSALEM = {
    "name": "Jerusalem", 
    "lat": 31.7683, 
    "lon": 35.2137, 
    "tz": "Asia/Jerusalem"
}

# S√£o Paulo (compara√ß√£o)
SAOPAULO = {
    "name": "S√£o Paulo", 
    "lat": -23.5505, 
    "lon": -46.6333, 
    "tz": "America/Sao_Paulo"
}
```

#### Gest√£o de Efem√©rides
```python
# Sele√ß√£o autom√°tica baseada no ano
def load_optimal_ephemeris(year: int, force_academic: bool = False):
    if force_academic:
        return api.load('de440.bsp')  # M√°xima precis√£o
    elif year <= 2050:
        return api.load('de421.bsp')  # Padr√£o 1900-2050
    else:
        return api.load('de440.bsp')  # Necess√°rio >2050
```

### Festivais Configurados

#### Festivais B√≠blicos (10 festivais)
```python
FESTIVALS_DEF = {
    # Festas da Primavera
    "Pessach": (1, 15),                    # P√°scoa - Nissan 15
    "Chag HaMatzot": (1, 16),             # Festa dos P√£es Asmos - Nissan 16
    "Omer Reshit": (1, 17),               # Prim√≠cias - Nissan 17
    
    # Festa do Ver√£o
    "Shavuot": (3, 6),                    # Pentecostes - Sivan 6
    
    # Festas do Outono
    "Rosh Hashan√°": (7, 1),               # Festa das Trombetas - Tishrei 1
    "Yom Kippur": (7, 10),                # Dia da Expia√ß√£o - Tishrei 10
    "Sukkot": (7, 15),                    # Festa dos Tabern√°culos - Tishrei 15
    
    # Outras celebra√ß√µes
    "Chanuc√°": (9, 25),                   # Festa das Luzes - Kislev 25
    "Purim": (12, 14),                    # Festa de Purim - Adar 14
}
```

#### Eventos de Yeshua
```python
YESHUA_EVENTS_DEF = {
    "Nascimento de Yeshua (hip√≥tese Nissan)": (1, 15),
    "Nascimento de Yeshua (hip√≥tese Tishrei/Sukkot)": (7, 15),
    "Morte de Yeshua (Crucifica√ß√£o - Pessach)": (1, 14)
}
```

#### Tradu√ß√µes e Descri√ß√µes
- **Nomes Bil√≠ngues**: Hebraico original + tradu√ß√£o portuguesa
- **Descri√ß√µes Educativas**: Contexto hist√≥rico e religioso para cada festival
- **Fases Lunares**: Descri√ß√µes astron√¥micas para Nova, Crescente, Cheia, Minguante
- **Esta√ß√µes**: Informa√ß√µes para ambos hemisf√©rios (Jerusal√©m/S√£o Paulo)

---

## üìö Documenta√ß√£o

A documenta√ß√£o completa est√° organizada na pasta `docs/`:

- **[Guia do Produto](docs/user-guide/product-guide.md)**: Guia completo para usu√°rios finais
- **[Guia de Instala√ß√£o](docs/user-guide/installation-guide.md)**: Instru√ß√µes detalhadas de instala√ß√£o
- **[Manual do Usu√°rio](docs/user-guide/user-manual.md)**: Como usar a aplica√ß√£o
- **[Guia de Cronologias](docs/user-guide/chronologies-guide.md)**: Sistemas cronol√≥gicos comparativos
- **[Arquitetura](docs/technical/architecture.md)**: Documenta√ß√£o t√©cnica do sistema
- **[Gerenciamento de Efem√©rides](docs/technical/ephemeris-management.md)**: Guia t√©cnico sobre DE421/DE440
- **[Arquitetura Web](docs/technical/web-architecture.md)**: Especifica√ß√£o da vers√£o web
- **[API Reference](docs/api/api-reference.md)**: Refer√™ncia das fun√ß√µes e classes
- **[Product Backlog](docs/product-backlog.md)**: Roadmap e funcionalidades futuras
- **[Changelog](docs/changelog.md)**: Hist√≥rico de mudan√ßas

---

## üìÅ Estrutura do Projeto

```
biblical_calendar_app/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îî‚îÄ‚îÄ biblical_calendar/
‚îÇ       ‚îú‚îÄ‚îÄ __init__.py          # M√≥dulo principal
‚îÇ       ‚îî‚îÄ‚îÄ calendar.py          # L√≥gica do calend√°rio
‚îú‚îÄ‚îÄ tests/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îî‚îÄ‚îÄ test_calendar.py         # Testes unit√°rios
‚îú‚îÄ‚îÄ .amazonq/
‚îÇ   ‚îî‚îÄ‚îÄ rules/                   # Regras DATAMETRIA
‚îú‚îÄ‚îÄ pyproject.toml               # Configura√ß√£o Poetry
‚îú‚îÄ‚îÄ README.md                    # Documenta√ß√£o principal
‚îú‚îÄ‚îÄ CHANGELOG.md                 # Hist√≥rico de mudan√ßas
‚îî‚îÄ‚îÄ LICENSE                      # Licen√ßa MIT
```

### Padr√µes Seguidos

- **üìÅ Src Layout**: C√≥digo fonte em `src/` seguindo padr√µes Python
- **üìù Poetry**: Gerenciamento de depend√™ncias e build
- **üß™ Google Style**: Docstrings e documenta√ß√£o padronizada
- **‚öôÔ∏è DATAMETRIA**: Regras e templates organizacionais
- **üß© Pytest**: Estrutura de testes unit√°rios

---

## üß™ Testes

### Executar Testes

```bash
# Todos os testes
poetry run pytest

# Testes com cobertura
poetry run pytest --cov=src --cov-report=html

# Testes espec√≠ficos
poetry run pytest tests/test_calendar.py -v
```

### Estrutura de Testes

- **Testes Unit√°rios**: Valida√ß√£o de fun√ß√µes principais
- **Testes de Edge Cases**: Anos extremos e casos especiais
- **Testes de Consist√™ncia**: Valida√ß√£o de datas e c√°lculos
- **Cobertura**: 80%+ das funcionalidades principais

### Qualidade de C√≥digo

```bash
# Formata√ß√£o
poetry run black src/ tests/

# Linting
poetry run flake8 src/ tests/

# Type checking
poetry run mypy src/

# Seguran√ßa
poetry run bandit -r src/
```

---

## ü§ù Contribui√ß√£o

Contribui√ß√µes s√£o sempre bem-vindas! Veja como voc√™ pode ajudar:

### Como Contribuir

1. **Fork** o projeto
2. **Crie** uma branch para sua feature (`git checkout -b feature/NovaFuncionalidade`)
3. **Commit** suas mudan√ßas (`git commit -m 'Adiciona nova funcionalidade'`)
4. **Push** para a branch (`git push origin feature/NovaFuncionalidade`)
5. **Abra** um Pull Request

### Diretrizes

- Siga os padr√µes de c√≥digo do projeto (Google Style)
- Escreva testes para novas funcionalidades
- Atualize a documenta√ß√£o quando necess√°rio
- Use type hints em todas as fun√ß√µes

### Tipos de Contribui√ß√£o

- üêõ **Bug Reports**: Reporte bugs usando GitHub Issues
- üí° **Feature Requests**: Sugira novas funcionalidades
- üìñ **Documenta√ß√£o**: Melhore a documenta√ß√£o
- üß™ **Testes**: Adicione ou melhore testes
- üåç **Localiza√ß√£o**: Adicione suporte a outros idiomas

---

## üìÑ Licen√ßa

Este projeto est√° licenciado sob a Licen√ßa MIT - veja o arquivo [LICENSE](LICENSE) para detalhes.

### Resumo da Licen√ßa

- ‚úÖ **Uso Comercial**: Permitido
- ‚úÖ **Modifica√ß√£o**: Permitida
- ‚úÖ **Distribui√ß√£o**: Permitida
- ‚úÖ **Uso Privado**: Permitido
- ‚ùå **Responsabilidade**: N√£o assumida
- ‚ùå **Garantia**: N√£o fornecida

---

## üìû Contato

### Desenvolvedor

- **Nome**: Vander Loto
- **Email**: vander.loto@outlook.com
- **Empresa**: DATAMETRIA
- **LinkedIn**: [Vander Loto](https://linkedin.com/in/vanderloto)

### Suporte

- üìß **Email**: vander.loto@outlook.com
- üêõ **Issues**: [GitHub Issues](https://github.com/vanderloto/biblical_calendar_app/issues)
- üí¨ **Discuss√µes**: [GitHub Discussions](https://github.com/vanderloto/biblical_calendar_app/discussions)

---

## üôè Agradecimentos

### Tecnologias e Bibliotecas

Agradecemos √†s comunidades open source das tecnologias utilizadas:

- **[Skyfield](https://rhodesmill.org/skyfield/)** - C√°lculos astron√¥micos precisos
- **[Astral](https://astral.readthedocs.io/)** - C√°lculos solares e lunares
- **[Pandas](https://pandas.pydata.org/)** - Manipula√ß√£o de dados
- **[iCalendar](https://icalendar.readthedocs.io/)** - Padr√£o de calend√°rio
- **[Python](https://python.org/)** - Linguagem de programa√ß√£o

### Inspira√ß√µes

- **Calend√°rio Hebraico Tradicional**: Base hist√≥rica e religiosa
- **Astronomia Moderna**: Precis√£o cient√≠fica
- **Comunidade Open Source**: Esp√≠rito colaborativo

---

<div align="center">

**Feito com ‚ù§Ô∏è por Vander Loto - DATAMETRIA**

‚≠ê **Se este projeto te ajudou, considere dar uma estrela!** ‚≠ê

</div>